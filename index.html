<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title"></title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f5;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .animate-blink {
            animation: blink 1s step-end infinite;
        }
        @media (max-width: 767px) {
            .mobile-header {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }
            .mobile-header .search-bar-container {
                width: 100%;
                order: 1;
                margin: 0;
            }
            .mobile-header .logo-container {
                order: 0;
            }
            .mobile-header .cart-icon {
                order: 2;
                margin-left: auto;
            }
            .mobile-header .search-button {
                display: none;
            }
            .footer-container {
                text-align: center;
            }
            .footer-container .grid {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }
            .footer-container .grid > div {
                width: 100%;
                max SCSS-width: 300px;
            }
            .footer-container iframe {
                width: 100%;
                max-width: 300px;
            }
        }
        input:focus, textarea:focus {
            outline: none;
        }
        .slider-container {
            position: relative;
            overflow: hidden;
            border-radius: 0.5rem;
        }
        .slider-images {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .slider-images img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            flex-shrink: 0;
        }
        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.3);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            z-index: 20;
        }
        .slider-btn.prev {
            left: 1rem;
        }
        .slider-btn.next {
            right: 1rem;
        }
        .dot-nav {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            z-index: 20;
        }
        .dot {
            height: 0.5rem;
            width: 0.5rem;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            margin: 0 0.25rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .dot.active {
            background-color: white;
        }
        #back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #f59e0b;
            color: white;
            cursor: pointer;
            padding: 15px;
            border-radius: 50%;
            display: none;
        }
        .spinner {
            display: none;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #f59e0b;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        .submit-button {
            position: relative;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Header Section -->
    <header class="bg-orange-500 shadow-md">
        <div class="container mx-auto flex items-center justify-between py-3 px-6 mobile-header">
            <div class="flex items-center space-x-2 logo-container">
                <a href="#">
                    <svg class="h-10 w-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M11 2a2 2 0 012 2v2h4a2 2 0 012 2v12a2 2 0 01-2 2H7a2 2 0 01-2-2V8a2 2 0 012-2h4V4a2 2 0 012-2zm0 6h4v12H7V8h4zm2-4a.5.5 0 00-.5-.5h-2a.5.5 0 00-.5.5v1h3V4z"/>
                    </svg>
                </a>
                <a href="#" class='text-white' id="site-title"></a>
            </div>
            <div class="flex-grow mx-16 search-bar-container">
                <div class="relative flex items-center bg-white rounded-md shadow-lg h-10">
                    <input type="text" id="search-placeholder" class="w-full pl-4 pr-12 text-sm text-gray-800 focus:outline-none focus:ring-0 rounded-md">
                    <button class="absolute right-0 h-full w-12 bg-orange-500 rounded-r-md flex items-center justify-center text-white search-button">
                        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <a href="#" class="relative ml-8 cart-icon">
                <svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                </svg>
            </a>
        </div>
        <div class="container mx-auto px-6 pb-2 text-white text-xs">
            <ul id="category-list" class="flex space-x-4 overflow-x-auto whitespace-nowrap py-2"></ul>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 mt-6">
        <div class="relative bg-orange-500 rounded-lg overflow-hidden shadow-md p-6 md:p-12 mb-6 text-center">
            <div id="banner-slider" class="absolute inset-0 z-0">
                <div class="slider-images absolute inset-0"></div>
                <div class="absolute inset-0 bg-gradient-to-r from-black via-transparent to-black opacity-30"></div>
                <button class="slider-btn prev" onclick="prevSlide()">&#10094;</button>
                <button class="slider-btn next" onclick="nextSlide()">&#10095;</button>
                <div id="dot-nav" class="dot-nav"></div>
            </div>
            <div class="relative z-10 flex flex-col items-center justify-center space-y-4 mt-4 md:mt-0">
                <div class="flex flex-col items-center justify-center space-y-4 mt-4 md:mt-0">
                    <h2 id="banner-title" class="text-4xl md:text-7xl font-black text-white drop-shadow-lg flex items-center justify-center" style="text-shadow: 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;">
                        <svg class="h-12 w-12 text-yellow-300 mr-2 animate-blink" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L3 14h6l-3 8 11-15h-6l3-8z"/>
                        </svg>
                        <span></span>
                        <svg class="h-12 w-12 text-yellow-300 ml-2 animate-blink" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L3 14h6l-3 8 11-15h-6l3-8z"/>
                        </svg>
                    </h2>
                    <div id="banner-subtitle" class="flex items-center space-x-2 text-white font-bold text-xl drop-shadow-lg text-center"></div>
                    <div class="flex items-center justify-center space-x-4 mt-2">
                        <span id="banner-discount-label" class="text-white font-bold text-2xl drop-shadow-lg"></span>
                        <span id="banner-discount" class="text-red-600 bg-white px-2 py-1 rounded-full animate-pulse text-4xl font-extrabold"></span>
                        <div class="flex items-center space-x-2 text-sm font-semibold text-white drop-shadow-lg">
                            <span id="banner-countdown-label"></span>
                            <div id="banner-countdown" class="flex items-center justify-center space-x-2">
                                <span class="bg-red-700 font-bold text-lg px-2 py-1 rounded-md" id="banner-countdown-hour">00</span>
                                <span class="font-bold">:</span>
                                <span class="bg-red-700 font-bold text-lg px-2 py-1 rounded-md" id="banner-countdown-minute">00</span>
                                <span class="font-bold">:</span>
                                <span class="bg-red-700 font-bold text-lg px-2 py-1 rounded-md" id="banner-countdown-second">00</span>
                            </div>
                        </div>
                        <button id="banner-buy-button" class="bg-red-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-red-600 transition-colors duration-300 animate-pulse"></button>
                    </div>
                </div>
            </div>
        </div>

        <section class="bg-white p-4 rounded-lg shadow-md mb-6 border-2 border-red-500">
            <div class="flex items-center justify-between mb-4 flex-wrap gap-4">
                <div class="flex items-center space-x-2">
                    <h2 id="flash-sale-title" class="text-xl font-bold text-red-600"></h2>
                    <svg class="h-6 w-6 text-red-600 animate-blink" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L3 14h6l-3 8 11-15h-6l3-8z"/>
                    </svg>
                    <span id="flash-sale-countdown-label" class="text-sm font-semibold text-gray-700 ml-4"></span>
                </div>
                <div id="countdown-timer" class="flex items-center space-x-2">
                    <span class="bg-gray-800 text-white font-bold text-lg px-2 py-1 rounded-md" id="countdown-timer-hour">00</span>
                    <span class="text-gray-700">:</span>
                    <span class="bg-gray-800 text-white font-bold text-lg px-2 py-1 rounded-md" id="countdown-timer-minute">00</span>
                    <span class="text-gray-700">:</span>
                    <span class="bg-gray-800 text-white font-bold text-lg px-2 py-1 rounded-md" id="countdown-timer-second">00</span>
                </div>
            </div>
            <div id="flash-sale-products" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
        </section>

        <section class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 id="categories-title" class="text-lg font-semibold mb-4"></h2>
            <div id="category-items" class="grid grid-cols-5 md:grid-cols-10 gap-4 text-center"></div>
        </section>

        <section class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 id="suggestions-title" class="text-2xl font-bold text-gray-800 mb-4"></h2>
            <div id="suggestion-products" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6" id="order-section">
            <h2 id="order-form-title" class="text-2xl font-bold text-gray-800 mb-4"></h2>
            <p id="order-form-description" class="text-gray-600 mb-6"></p>
            <form id="order-form" class="space-y-4">
                <div>
                    <label for="product_info" id="product-info-label" class="block text-sm font-medium text-gray-700"></label>
                    <textarea id="product_info" name="product_info" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring focus:ring-orange-500 focus:ring-opacity-50" readonly></textarea>
                </div>
                <div>
                    <label for="name" id="name-label" class="block text-sm font-medium text-gray-700"></label>
                    <input type="text" id="name" name="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring focus:ring-orange-500 focus:ring-opacity-50" required>
                </div>
                <div>
                    <label for="phone" id="phone-label" class="block text-sm font-medium text-gray-700"></label>
                    <input type="tel" id="phone" name="phone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring focus:ring-orange-500 focus:ring-opacity-50" required>
                </div>
                <div>
                    <label for="address" id="address-label" class="block text-sm font-medium text-gray-700"></label>
                    <textarea id="address" name="address" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring focus:ring-orange-500 focus:ring-opacity-50" required></textarea>
                </div>
                <div class="relative">
                    <button type="submit" id="order-form-submit" class="w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-md hover:bg-orange-600 transition-colors duration-300 submit-button"></button>
                    <div id="order-form-spinner" class="spinner"></div>
                </div>
            </form>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-orange-500 text-white py-8">
        <div class="container mx-auto px-6 footer-container">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 id="footer-contact-title" class="text-lg font-semibold mb-4"></h3>
                    <p id="footer-phone" class="text-sm mb-2"></p>
                    <p id="footer-address" class="text-sm mb-2"></p>
                    <div class="flex space-x-6 mt-4 justify-center md:justify-start">
                        <a id="footer-zalo-link" class="hover:opacity-80" aria-label="Liên hệ qua Zalo"></a>
                        <a id="footer-facebook-link" class="hover:opacity-80" aria-label="Theo dõi trên Facebook"></a>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 id="footer-certification-title" class="text-lg font-semibold mb-4"></h3>
                    <a id="footer-certification-link" class="hover:opacity-80"></a>
                </div>
                <div>
                    <h3 id="footer-map-title" class="text-lg font-semibold mb-4"></h3>
                    <iframe id="footer-map" width="300" height="350" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
            <div class="mt-8 text-center text-sm">
                <p id="footer-copyright"></p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" onclick="scrollToTop()">
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
        </svg>
    </button>

    <!-- JavaScript for Actions -->
    <script>
        // JSON object chứa tất cả hình ảnh và văn bản
        const contentData = {
            pageTitle: "Điện máy Tấn Lụa",
            bannerImages: [
                { src: "https://i.ytimg.com/vi/faG_XV1zaQ4/maxresdefault.jpg", alt: "Sản phẩm 1" },
                { src: "https://bizweb.dktcdn.net/100/052/428/files/may-cat-co-pin-yamasu-yms-mcc01.jpg?v=1734411132227", alt: "Sản phẩm 2" },
                { src: "https://milwaukeevietnam.com/wp-content/uploads/2019/04/banner-milwaukee-chuyen-nghiep-manh-me-hieu-qua.jpg", alt: "Sản phẩm 3" },
                { src: "https://weldcom.vn/wp-content/uploads/2024/11/Banner-website-TUYEN-DAI-LY-1440x600-1-1024x427.png", alt: "Sản phẩm 4" }
            ],
            products: [
                {
                    id: 1,
                    section: "flash-sale",
                    name: "Áo phông nam nữ, sale cực sốc",
                    price: "99.000₫",
                    originalPrice: "120.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+khuy%E1%BA%BFn+m%C3%A3i",
                    rating: 4.9,
                    sold: "1k+",
                    discountLabel: "Giá Sốc"
                },
                {
                    id: 2,
                    section: "flash-sale",
                    name: "Đồng hồ thông minh chống nước, pin trâu",
                    price: "1.250.000₫",
                    originalPrice: "1.500.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+khuy%E1%BA%BFn+m%C3%A3i+2",
                    rating: 5.0,
                    sold: "500+",
                    discountLabel: "Giá Sốc"
                },
                {
                    id: 3,
                    section: "flash-sale",
                    name: "Bàn phím cơ Fuhlen G900 Pro, Switch Blue",
                    price: "890.000₫",
                    originalPrice: "990.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+khuy%E1%BA%BFn+m%C3%A3i+3",
                    rating: 4.8,
                    sold: "2k+",
                    discountLabel: "Giá Sốc"
                },
                {
                    id: 4,
                    section: "flash-sale",
                    name: "Tai nghe không dây Bluetooth, Âm thanh HIFI",
                    price: "450.000₫",
                    originalPrice: "550.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+khuy%E1%BA%BFn+m%C3%A3i+4",
                    rating: 4.7,
                    sold: "800+",
                    discountLabel: "Giá Sốc"
                },
                {
                    id: 5,
                    section: "suggestion",
                    name: "Áo phông nam nữ, đủ size, nhiều màu",
                    price: "99.000₫",
                    originalPrice: "120.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+1",
                    rating: 4.9,
                    sold: "1k+"
                },
                {
                    id: 6,
                    section: "suggestion",
                    name: "Đồng hồ thông minh chống nước, pin trâu",
                    price: "1.250.000₫",
                    originalPrice: "1.500.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+2",
                    rating: 5.0,
                    sold: "500+"
                },
                {
                    id: 7,
                    section: "suggestion",
                    name: "Bàn phím cơ Fuhlen G900 Pro, Switch Blue",
                    price: "890.000₫",
                    originalPrice: "990.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+3",
                    rating: 4.8,
                    sold: "2k+"
                },
                {
                    id: 8,
                    section: "suggestion",
                    name: "Tai nghe không dây Bluetooth, Âm thanh HIFI",
                    price: "450.000₫",
                    originalPrice: "550.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+4",
                    rating: 4.7,
                    sold: "800+"
                },
                {
                    id: 9,
                    section: "suggestion",
                    name: "Cốc giữ nhiệt Starbucks, Inox 304",
                    price: "150.000₫",
                    originalPrice: "180.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+5",
                    rating: 4.9,
                    sold: "3.5k+"
                },
                {
                    id: 10,
                    section: "suggestion",
                    name: "Bình nước thể thao Lock&Lock 1.5L",
                    price: "75.000₫",
                    originalPrice: "90.000₫",
                    image: "https://placehold.co/400x400/eeeeee/333333?text=S%E1%BA%A3n+ph%E1%BA%A9m+6",
                    rating: 4.8,
                    sold: "1.2k+"
                }
            ],
            staticText: {
                siteTitle: "Điện máy Tấn Lụa",
                searchPlaceholder: "Điện máy Tấn Lụa - Giảm giá siêu sốc",
                bannerTitle: "SĂN DEAL SIÊU HOT",
                bannerSubtitle: "CHỈ DUY NHẤT HÔM NAY 50 SUẤT ĐẦU TIÊN CHO BÁC NÀO NHANH TAY",
                bannerDiscountLabel: "GIẢM ĐẾN",
                bannerDiscount: "70%",
                bannerCountdownLabel: "Kết thúc sau:",
                bannerBuyButton: "MUA NGAY",
                flashSaleTitle: "Flash Sale",
                flashSaleCountdownLabel: "Kết thúc sau:",
                categoriesTitle: "Danh Mục Nổi Bật",
                suggestionsTitle: "Gợi ý hôm nay",
                orderFormTitle: "Đặt hàng ngay",
                orderFormDescription: "Nhanh tay đặt hàng để không bỏ lỡ những ưu đãi hấp dẫn!",
                productInfoLabel: "Thông tin sản phẩm",
                nameLabel: "Họ và tên",
                phoneLabel: "Số điện thoại",
                addressLabel: "Địa chỉ",
                orderFormSubmit: "Gửi thông tin đặt hàng",
                footerContactTitle: "Liên hệ",
                footerPhone: "Hotline: <a href='tel:0833090186' class='hover:underline'>0833.090.186</a>",
                footerAddress: "Địa chỉ: 14 Cầu Giấy, Hà Nội",
                footerCertificationTitle: "Chứng nhận",
                footerMapTitle: "Vị trí",
                footerCopyright: "&copy; 2025 Điện máy Tấn Lụa. All rights reserved."
            },
            categories: [
                { name: "Thời trang", icon: "https://img.icons8.com/ios-filled/24/000000/t-shirt.png" },
                { name: "Đồ điện tử", icon: "https://img.icons8.com/ios-filled/24/000000/smartphone.png" },
                { name: "Sức khỏe", icon: "https://img.icons8.com/ios-filled/24/000000/heart-health.png" },
                { name: "Nhà cửa", icon: "https://img.icons8.com/ios-filled/24/000000/home.png" },
                { name: "Thức ăn", icon: "https://img.icons8.com/ios-filled/24/000000/food.png" },
                { name: "Du lịch", icon: "https://img.icons8.com/ios-filled/24/000000/suitcase.png" },
                { name: "Sách", icon: "https://img.icons8.com/ios-filled/24/000000/book.png" },
                { name: "Thể thao", icon: "https://img.icons8.com/ios-filled/24/000000/soccer-ball.png" },
                { name: "Sắc đẹp", icon: "https://img.icons8.com/ios-filled/24/000000/makeup.png" },
                { name: "Đồ gia dụng", icon: "https://img.icons8.com/ios-filled/24/000000/kitchenware.png" }
            ],
            footerImages: {
                zalo: { src: "https://img.icons8.com/ios-filled/24/ffffff/zalo.png", alt: "Zalo Icon", href: "https://zalo.me/0833090186" },
                facebook: { src: "https://img.icons8.com/ios-filled/24/ffffff/facebook.png", alt: "Facebook Icon", href: "https://facebook.com/yourpage" },
                certification: { src: "https://dangkywebvoibocongthuong.com/wp-content/uploads/2021/11/logo-da-thong-bao-bo-cong-thuong.png", alt: "Đã đăng ký Bộ Công Thương", href: "http://online.gov.vn" },
                map: { src: "https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d7486.7292967347485!2d106.1765066!3d20.2437063!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31360b5da4c5a407%3A0x40f19f95635260ca!2zQ-G6p3UgVGFtIFRow7RuLCBM4buFIFTDrWNoLCBOZ2hEqWEgVGjDoWksIE5hbSDEkOG7i25o!5e0!3m2!1svi!2s!4v1757444264155!5m2!1svi!2s" }
            }
        };

        // Render nội dung từ JSON
        function renderContent() {
            // Page title
            document.getElementById('page-title').textContent = contentData.pageTitle;
            document.getElementById('site-title').textContent = contentData.staticText.siteTitle;
            document.getElementById('search-placeholder').placeholder = contentData.staticText.searchPlaceholder;

            // Banner
            const sliderImages = document.querySelector('#banner-slider .slider-images');
            const dotNav = document.getElementById('dot-nav');
            contentData.bannerImages.forEach((img, index) => {
                sliderImages.innerHTML += `<img src="${img.src}" alt="${img.alt}" class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500">`;
                dotNav.innerHTML += `<span class="dot ${index === 0 ? 'active' : ''}" onclick="showSlide(${index});"></span>`;
            });
            document.querySelector('#banner-title span').textContent = contentData.staticText.bannerTitle;
            document.getElementById('banner-subtitle').textContent = contentData.staticText.bannerSubtitle;
            document.getElementById('banner-discount-label').textContent = contentData.staticText.bannerDiscountLabel;
            document.getElementById('banner-discount').textContent = contentData.staticText.bannerDiscount;
            document.getElementById('banner-countdown-label').textContent = contentData.staticText.bannerCountdownLabel;
            document.getElementById('banner-buy-button').textContent = contentData.staticText.bannerBuyButton;
            document.getElementById('banner-buy-button').setAttribute('onclick', `scrollToOrderForm('Sản phẩm HOT nhất Flash Sale', 'Giá cực sốc')`);

            // Categories (Header)
            const categoryList = document.getElementById('category-list');
            contentData.categories.forEach(category => {
                categoryList.innerHTML += `<li><a href="#" class="hover:underline">${category.name}</a></li>`;
            });

            // Flash Sale
            document.getElementById('flash-sale-title').textContent = contentData.staticText.flashSaleTitle;
            document.getElementById('flash-sale-countdown-label').textContent = contentData.staticText.flashSaleCountdownLabel;

            // Categories Section
            document.getElementById('categories-title').textContent = contentData.staticText.categoriesTitle;
            const categoryItems = document.getElementById('category-items');
            contentData.categories.forEach(category => {
                categoryItems.innerHTML += `
                    <div class="flex flex-col items-center">
                        <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center mb-2">
                            <img src="${category.icon}" alt="${category.name}" class="h-6 w-6">
                        </div>
                        <span class="text-xs text-gray-600">${category.name}</span>
                    </div>
                `;
            });

            // Suggestions
            document.getElementById('suggestions-title').textContent = contentData.staticText.suggestionsTitle;

            // Order Form
            document.getElementById('order-form-title').textContent = contentData.staticText.orderFormTitle;
            document.getElementById('order-form-description').textContent = contentData.staticText.orderFormDescription;
            document.getElementById('product-info-label').textContent = contentData.staticText.productInfoLabel;
            document.getElementById('name-label').textContent = contentData.staticText.nameLabel;
            document.getElementById('phone-label').textContent = contentData.staticText.phoneLabel;
            document.getElementById('address-label').textContent = contentData.staticText.addressLabel;
            document.getElementById('order-form-submit').textContent = contentData.staticText.orderFormSubmit;

            // Footer
            document.getElementById('footer-contact-title').textContent = contentData.staticText.footerContactTitle;
            document.getElementById('footer-phone').innerHTML = contentData.staticText.footerPhone;
            document.getElementById('footer-address').textContent = contentData.staticText.footerAddress;
            document.getElementById('footer-certification-title').textContent = contentData.staticText.footerCertificationTitle;
            document.getElementById('footer-map-title').textContent = contentData.staticText.footerMapTitle;
            document.getElementById('footer-copyright').innerHTML = contentData.staticText.footerCopyright;
            document.getElementById('footer-zalo-link').innerHTML = `<img src="${contentData.footerImages.zalo.src}" alt="${contentData.footerImages.zalo.alt}">`;
            document.getElementById('footer-zalo-link').href = contentData.footerImages.zalo.href;
            document.getElementById('footer-facebook-link').innerHTML = `<img src="${contentData.footerImages.facebook.src}" alt="${contentData.footerImages.facebook.alt}">`;
            document.getElementById('footer-facebook-link').href = contentData.footerImages.facebook.href;
            document.getElementById('footer-certification-link').innerHTML = `<img src="${contentData.footerImages.certification.src}" alt="${contentData.footerImages.certification.alt}" class="w-32 h-auto mb-2">`;
            document.getElementById('footer-certification-link').href = contentData.footerImages.certification.href;
            document.getElementById('footer-map').src = contentData.footerImages.map.src;

            // Render sản phẩm
            const flashSaleContainer = document.getElementById('flash-sale-products');
            const suggestionContainer = document.getElementById('suggestion-products');
            contentData.products.forEach(product => {
                const container = product.section === 'flash-sale' ? flashSaleContainer : suggestionContainer;
                const productHtml = `
                    <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer" onclick="scrollToOrderForm('${product.name}', '${product.price}')">
                        <div class="relative">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover transition-transform duration-300 transform hover:scale-105">
                            ${product.discountLabel ? `
                            <div class="absolute top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center">
                                <svg class="h-4 w-4 mr-1 animate-blink" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2L3 14h6l-3 8 11-15h-6l3-8z"/>
                                </svg>
                                ${product.discountLabel}
                            </div>` : ''}
                        </div>
                        <div class="p-3">
                            <h3 class="text-sm font-semibold text-gray-800 line-clamp-2">${product.name}</h3>
                            <div class="flex items-center mt-2">
                                <span class="text-${product.section === 'flash-sale' ? 'red' : 'orange'}-500 font-bold text-lg mr-2">${product.price}</span>
                                <span class="text-xs text-gray-400 line-through">${product.originalPrice}</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-500 mt-1">
                                <span><span class="text-yellow-400">★</span> ${product.rating}</span>
                                <span class="ml-2">Đã bán ${product.sold}</span>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += productHtml;
            });
        }

        // Gọi hàm render khi tải trang
        document.addEventListener('DOMContentLoaded', renderContent);

        // Slider Functionality
        let currentSlide = 0;
        let slides, dots;

        function initSlider() {
            slides = document.querySelectorAll('#banner-slider .slider-images img');
            dots = document.querySelectorAll('#dot-nav .dot');
            showSlide(currentSlide);
        }

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.style.opacity = i === index ? '1' : '0';
            });
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            currentSlide = index;
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        // Auto-slide every 5 seconds
        document.addEventListener('DOMContentLoaded', () => {
            initSlider();
            setInterval(nextSlide, 5000);
        });

        // Countdown Timer Function
        function startCountdown(elementId, endTime) {
            const countdownElement = document.getElementById(elementId);
            if (!countdownElement) {
                console.error(`Countdown element with ID ${elementId} not found`);
                return;
            }
            const hoursElement = countdownElement.querySelector(`#${elementId}-hour`);
            const minutesElement = countdownElement.querySelector(`#${elementId}-minute`);
            const secondsElement = countdownElement.querySelector(`#${elementId}-second`);

            if (!hoursElement || !minutesElement || !secondsElement) {
                console.error(`Countdown sub-elements for ${elementId} not found`);
                return;
            }

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = endTime - now;

                if (distance <= 0) {
                    hoursElement.textContent = '00';
                    minutesElement.textContent = '00';
                    secondsElement.textContent = '00';
                    return;
                }

                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                hoursElement.textContent = hours.toString().padStart(2, '0');
                minutesElement.textContent = minutes.toString().padStart(2, '0');
                secondsElement.textContent = seconds.toString().padStart(2, '0');
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Banner Countdown: 4 minutes from now
        const bannerEndTime = new Date().getTime() + 4 * 60 * 1000;
        startCountdown('banner-countdown', bannerEndTime);

        // Flash Sale Countdown: 1 day from now
        const flashSaleEndTime = new Date().getTime() + 24 * 60 * 60 * 1000;
        startCountdown('countdown-timer', flashSaleEndTime);

        // Scroll to Order Form
        function scrollToOrderForm(productName, productPrice) {
            const productInfo = document.getElementById('product_info');
            productInfo.value = `${productName} - ${productPrice}`;
            const orderSection = document.getElementById('order-section');
            orderSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Back to Top Functionality
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Show/Hide Back to Top Button
        window.addEventListener('scroll', () => {
            const backToTop = document.getElementById('back-to-top');
            backToTop.style.display = window.scrollY > 300 ? 'block' : 'none';
        });

        // Form Submission to Google Sheet
        async function submitFormToGoogleSheet(formData) {
            const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxsy8FcnznMeOHLqfOnDwEWsWxiEIXoPqn56zB0S411ccZDjWD8Y5WZSNys2fmOLuFIIw/exec'; // Thay bằng URL thực tế
            if (!GOOGLE_APPS_SCRIPT_URL || GOOGLE_APPS_SCRIPT_URL === 'YOUR_GOOGLE_APPS_SCRIPT_URL') {
                console.error('Google Apps Script URL is not set');
                alert('Lỗi: URL Google Apps Script chưa được cấu hình.');
                return false;
            }
            const formDataObject = Object.fromEntries(formData);
            console.log('Form data being sent:', JSON.stringify(formDataObject, null, 2));
            try {
                const response = await fetch(GOOGLE_APPS_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formDataObject),
                    mode: 'no-cors'
                });
                console.log('Form data sent to Google Sheet');
                return true;
            } catch (error) {
                console.error('Error sending form data:', error);
                alert('Đã xảy ra lỗi khi gửi đơn hàng: ' + error.message);
                return false;
            }
        }

        // Main Form Submission
        document.getElementById('order-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const form = e.target;
            const submitButton = form.querySelector('button[type="submit"]');
            const spinner = document.getElementById('order-form-spinner');
            submitButton.disabled = true;
            spinner.style.display = 'block';
            submitButton.style.opacity = '0.5'; // Làm mờ nút khi loading
            const formData = new FormData(form);
            console.log('Main form data:', Object.fromEntries(formData));
            const success = await submitFormToGoogleSheet(formData);
            submitButton.disabled = false;
            spinner.style.display = 'none';
            submitButton.style.opacity = '1'; // Khôi phục nút
            if (success) {
                alert('Đặt hàng thành công!');
                form.reset();
            } else {
                alert('Đã xảy ra lỗi khi gửi đơn hàng. Vui lòng kiểm tra kết nối hoặc thử lại.');
            }
        });
    </script>
</body>
</html>